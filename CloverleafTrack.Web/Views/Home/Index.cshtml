@model HomePageViewModel

@{
    ViewBag.Title = "Cloverleaf Track & Field";
}

@section Hero {
    <div class="relative h-[20vh] bg-cover bg-center bg-no-repeat" style="background-image: url('img/hero-home.jpg');">

        <!-- overlay -->
        <div class="absolute inset-0 bg-black dark:bg-opacity-75 bg-opacity-25"></div>

        <!-- content -->
        <div class="absolute inset-0 flex flex-col justify-center items-center text-center text-white px-4 z-10">
            <h1 class="text-4xl md:text-5xl font-heading font-extrabold mb-2">Cloverleaf Track & Field</h1>
            <p class="text-lg md:text-xl dark:text-ctf-accent text-ctf-darkaccent">Your journey. Our history. One team.</p>
        </div>
    </div>
}

<div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">

    @await Html.PartialAsync("_HomePageSeasonAtAGlanceCard", Model)
    @await Html.PartialAsync("_HomePageOnThisDayCard", Model)
    @await Html.PartialAsync("_HomePageRecentHighlightsCard", Model)
    @await Html.PartialAsync("_HomePageSeasonLeaders", Model)
    @await Html.PartialAsync("_HomePageUpcomingMeets", Model)

</div>

@section Scripts {
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // Highlights Tabs
            const highlightTabs = document.querySelectorAll('.highlights-tab');
            const highlightContents = document.querySelectorAll('.highlights-content');

            highlightTabs.forEach(tab => {
                tab.addEventListener('click', function() {
                    const targetTab = this.dataset.tab;

                    // Update tab styles
                    highlightTabs.forEach(t => {
                        if (t.dataset.tab === targetTab) {
                            if (targetTab === 'outdoor') {
                                t.classList.add('bg-gradient-to-r', 'from-amber-600', 'to-yellow-500', 'text-white');
                                t.classList.remove('bg-gray-100', 'dark:bg-gray-700', 'text-gray-600', 'dark:text-gray-300', 'hover:bg-gray-200', 'dark:hover:bg-gray-600');
                            } else {
                                t.classList.add('bg-gradient-to-r', 'from-blue-600', 'to-blue-500', 'text-white');
                                t.classList.remove('bg-gray-100', 'dark:bg-gray-700', 'text-gray-600', 'dark:text-gray-300', 'hover:bg-gray-200', 'dark:hover:bg-gray-600');
                            }
                        } else {
                            t.classList.remove('bg-gradient-to-r', 'from-amber-600', 'to-yellow-500', 'from-blue-600', 'to-blue-500', 'text-white');
                            t.classList.add('bg-gray-100', 'dark:bg-gray-700', 'text-gray-600', 'dark:text-gray-300', 'hover:bg-gray-200', 'dark:hover:bg-gray-600');
                        }
                    });

                    // Show/hide content
                    highlightContents.forEach(content => {
                        if (content.id === `highlights-${targetTab}`) {
                            content.classList.remove('hidden');
                        } else {
                            content.classList.add('hidden');
                        }
                    });
                });
            });

            // Leaders Tabs
            const leaderTabs = document.querySelectorAll('.leaders-tab');
            const leaderContents = document.querySelectorAll('.leaders-content');

            leaderTabs.forEach(tab => {
                tab.addEventListener('click', function() {
                    const targetTab = this.dataset.tab;

                    // Update tab styles
                    leaderTabs.forEach(t => {
                        if (t.dataset.tab === targetTab) {
                            if (targetTab === 'outdoor') {
                                t.classList.add('bg-gradient-to-r', 'from-amber-600', 'to-yellow-500', 'text-white');
                                t.classList.remove('bg-gray-100', 'dark:bg-gray-700', 'text-gray-600', 'dark:text-gray-300', 'hover:bg-gray-200', 'dark:hover:bg-gray-600');
                            } else {
                                t.classList.add('bg-gradient-to-r', 'from-blue-600', 'to-blue-500', 'text-white');
                                t.classList.remove('bg-gray-100', 'dark:bg-gray-700', 'text-gray-600', 'dark:text-gray-300', 'hover:bg-gray-200', 'dark:hover:bg-gray-600');
                            }
                        } else {
                            t.classList.remove('bg-gradient-to-r', 'from-amber-600', 'to-yellow-500', 'from-blue-600', 'to-blue-500', 'text-white');
                            t.classList.add('bg-gray-100', 'dark:bg-gray-700', 'text-gray-600', 'dark:text-gray-300', 'hover:bg-gray-200', 'dark:hover:bg-gray-600');
                        }
                    });

                    // Show/hide content
                    leaderContents.forEach(content => {
                        if (content.id === `leaders-${targetTab}`) {
                            content.classList.remove('hidden');
                        } else {
                            content.classList.add('hidden');
                        }
                    });
                });
            });

            // Set Outdoor as default active tab for both sections
            document.querySelector('.highlights-tab[data-tab="indoor"]')?.click();
            document.querySelector('.leaders-tab[data-tab="indoor"]')?.click();
        });
    </script>
}
