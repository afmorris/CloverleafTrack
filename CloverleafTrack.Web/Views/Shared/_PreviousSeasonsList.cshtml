@using CloverleafTrack.ViewModels.Seasons;

@model List<SeasonCardViewModel>

@{
    var pastSeasons = Model.Where(s => !s.IsCurrentSeason).ToList();
}

@functions {
	string GetGenderIcon(CloverleafTrack.Models.Enums.Gender gender) => gender switch
	{
		CloverleafTrack.Models.Enums.Gender.Male => "♂",
		CloverleafTrack.Models.Enums.Gender.Female => "♀",
		CloverleafTrack.Models.Enums.Gender.Mixed => "⚥",
		_ => ""
	};

	string GetGenderClass(CloverleafTrack.Models.Enums.Gender gender) => gender switch
	{
		CloverleafTrack.Models.Enums.Gender.Male => "text-blue-600 dark:text-blue-400",
		CloverleafTrack.Models.Enums.Gender.Female => "text-pink-600 dark:text-pink-400",
		CloverleafTrack.Models.Enums.Gender.Mixed => "text-purple-600 dark:text-purple-400",
		_ => "text-gray-600 dark:text-gray-400"
	};
}

<!-- Past Seasons -->
@if (pastSeasons.Any())
{
    <div class="mb-12">
        <h2 class="text-2xl font-bold mb-6 text-gray-900 dark:text-white">Past Seasons</h2>

        @foreach (var season in pastSeasons.Take(3))
        {
            @await Html.PartialAsync("_PreviousSeasonCard", season)
        }
        
        @await Html.PartialAsync("_OldSeasonsList", Model)
    </div>
}