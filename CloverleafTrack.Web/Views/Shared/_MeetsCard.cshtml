@model SeasonMeetsViewModel

<!-- Season Section -->
<div class="mb-12">
    <div class="flex items-center justify-between mb-6">
        <div>
            <h2 class="text-3xl font-bold text-gray-900 dark:text-white">@Model.SeasonName</h2>
            @if (Model.IsCurrentSeason)
            {
                <p class="text-gray-600 dark:text-gray-400 text-sm mt-1">
                    Current season â€¢ @Model.CompletedMeets of @Model.TotalMeets meets completed
                </p>
            }
            else
            {
                <p class="text-gray-400 text-sm mt-1">@Model.TotalMeets meets completed</p>
            }
        </div>
        <div class="flex gap-6 text-sm">
            <div class="text-center bg-gradient-to-br from-blue-50 to-blue-100 dark:from-blue-900/40 dark:to-blue-800/40 border-blue-200 dark:border-blue-700/30 rounded-lg p-2 shadow">
                <div class="text-2xl font-bold text-blue-900 dark:text-blue-100">@Model.TotalPRs</div>
                <div class="text-xs text-blue-700 dark:text-blue-300">PRs</div>
            </div>
            <div class="text-center bg-gradient-to-br from-yellow-50 to-yellow-100 dark:from-yellow-900/40 dark:to-yellow-800/40 border-yellow-200 dark:border-yellow-700/30 rounded-lg p-2 shadow">
                <div class="text-2xl font-bold text-yellow-900 dark:text-yellow-100">@Model.TotalSchoolRecords</div>
                <div class="text-xs text-yellow-700 dark:text-yellow-300">SRs</div>
            </div>
        </div>
    </div>

    <!-- Meets List -->
    <div class="space-y-2">
        @{
            var visibleMeets = Model.IsCurrentSeason ? Model.Meets.Take(3).ToList() : Model.Meets.Take(1).ToList();
            var hiddenMeets = Model.IsCurrentSeason ? Model.Meets.Skip(3).ToList() : Model.Meets.Skip(1).ToList();
        }

        @foreach (var meet in visibleMeets)
        {
            @await Html.PartialAsync("_MeetListItem", meet)
        }

        @if (hiddenMeets.Any())
        {
            <details class="bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 overflow-hidden">
                <summary class="p-4 cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors flex items-center justify-between">
                    <span class="font-semibold text-gray-600 dark:text-gray-400">Show @hiddenMeets.Count more meets from @Model.SeasonName...</span>
                    <svg class="w-5 h-5 text-gray-600 dark:text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path>
                    </svg>
                </summary>
                <div class="p-4 pt-0 space-y-2">
                    @foreach (var meet in hiddenMeets)
                    {
                        @await Html.PartialAsync("_MeetListItem", meet)
                    }
                </div>
            </details>
        }
    </div>
</div>